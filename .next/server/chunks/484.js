exports.id=484,exports.ids=[484],exports.modules={1634:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2994,23)),Promise.resolve().then(n.t.bind(n,6114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.t.bind(n,1868,23)),Promise.resolve().then(n.t.bind(n,4759,23))},2392:(e,t,n)=>{Promise.resolve().then(n.bind(n,8521))},8521:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n(326),r=n(6465),i=n.n(r);n(3824);var l=n(9269),s=n(7531),a=n(7577),u=n(434),d=n(5047);let c=()=>{let e=(0,d.useRouter)(),[t,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(""),l=(0,a.useCallback)(async()=>{let e=localStorage.getItem("token");if(!e){n({loggedIn:!1,userId:null,isAdmin:!1});return}try{let t=await fetch("/api/auth/status",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();n(e)}else console.error("Failed to fetch auth status:",await t.json()),n({loggedIn:!1,userId:null,isAdmin:!1}),localStorage.removeItem("token")}catch(e){console.error("Error fetching auth status:",e),n({loggedIn:!1,userId:null,isAdmin:!1}),localStorage.removeItem("token")}},[]);return(0,a.useEffect)(()=>{l();let e=()=>{l()};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[l]),(0,o.jsxs)("nav",{children:[(0,o.jsxs)("ul",{style:{listStyle:"none",padding:0},children:[o.jsx("li",{style:{marginBottom:"10px"},children:o.jsx(u.default,{href:"/",style:{textDecoration:"none",color:"#333"},children:"ホーム"})}),o.jsx("li",{style:{marginBottom:"10px"},children:o.jsx(u.default,{href:"/settings",style:{textDecoration:"none",color:"#333"},children:"設定"})}),o.jsx("li",{style:{marginBottom:"10px"},children:o.jsx(u.default,{href:"/local-timeline",style:{textDecoration:"none",color:"#333"},children:"ZenSky タイムライン"})}),o.jsx("li",{style:{marginBottom:"10px"},children:o.jsx(u.default,{href:"/terms",style:{textDecoration:"none",color:"#333"},children:"利用規約"})})]}),o.jsx("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"20px"},children:(0,o.jsxs)("form",{onSubmit:t=>{t.preventDefault(),r.trim()&&e.push(`/search?q=${encodeURIComponent(r.trim())}`)},style:{display:"flex",marginBottom:"10px"},children:[o.jsx("input",{type:"text",placeholder:"検索...",value:r,onChange:e=>i(e.target.value),style:{flexGrow:1,padding:"8px",border:"1px solid #ccc",borderRadius:"5px 0 0 5px"}}),o.jsx("button",{type:"submit",style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 12px",borderRadius:"0 5px 5px 0",cursor:"pointer"},children:"検索"})]})}),(0,o.jsxs)("div",{style:{marginTop:"auto",paddingTop:"20px",borderTop:"1px solid #eee"},children:[t?.isAdmin&&o.jsx(u.default,{href:"/admin",children:o.jsx("button",{style:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"管理者ダッシュボード"})}),t?.loggedIn&&o.jsx("button",{onClick:()=>{localStorage.removeItem("token"),n({loggedIn:!1,userId:null,isAdmin:!1}),e.push("/")},style:{width:"100%",padding:"10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"ログアウト"})]})]})};var h=n(8589),x=n.n(h);let m=()=>{let[e,t]=(0,a.useState)(!1),n=(0,a.useRef)(null);return(0,d.useRouter)(),(0,a.useEffect)(()=>{let e=e=>{n.current&&!n.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),(0,o.jsxs)("div",{className:x().mobileMenuContainer,ref:n,children:[o.jsx("button",{className:x().hamburgerButton,onClick:()=>t(!e),children:"☰"}),e&&o.jsx("div",{className:x().mobileMenuOverlay,children:(0,o.jsxs)("div",{className:x().mobileMenuContent,children:[o.jsx("button",{className:x().closeButton,onClick:()=>t(!1),children:"✕"}),o.jsx("h2",{className:x().menuTitle,children:"メニュー"}),o.jsx(c,{})]})})]})};function b({children:e}){let[t,n]=(0,a.useState)(!1);return(0,o.jsxs)("html",{lang:"en",children:[o.jsx("head",{children:o.jsx("title",{children:"ZenSky N"})}),o.jsx("body",{className:i().className,children:o.jsx(l.V,{children:o.jsx(s.u,{children:(0,o.jsxs)("div",{style:{display:"flex"},children:[t?o.jsx(m,{}):(0,o.jsxs)("aside",{className:"sidebar",children:[o.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"20px"},children:"メニュー"}),o.jsx(c,{})]}),(0,o.jsxs)("div",{className:t?"main-content-no-sidebar":"main-content-with-sidebar",children:[" ",o.jsx("div",{children:e})]})]})})})})]})}},7531:(e,t,n)=>{"use strict";n.d(t,{t:()=>a,u:()=>s});var o=n(326),r=n(7577),i=n(7052);let l=(0,r.createContext)(void 0);function s({children:e}){let[t,n]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),u=(0,r.useRef)(null),d=(0,r.useCallback)(()=>{n(!1),a(null),u.current&&(window.clearTimeout(u.current),u.current=null)},[]),c=(0,r.useCallback)(({anchorElement:e,duration:t=3e3,...o})=>{d(),a({...o,anchorElement:e,duration:t}),n(!0),t>0&&(u.current=window.setTimeout(()=>{d()},t))},[d]),h=(0,r.useCallback)(()=>{s?.onConfirm&&s.onConfirm(),d()},[s,d]),x=(0,r.useCallback)(()=>{s?.onCancel&&s.onCancel(),d()},[s,d]),m=s?(e=>{switch(e){case"success":return{bg:"bg-green-500",text:"text-white"};case"error":return{bg:"bg-red-500",text:"text-white"};case"warning":return{bg:"bg-yellow-500",text:"text-gray-900"};default:return{bg:"bg-blue-500",text:"text-white"}}})(s.variant||"info"):{bg:"",text:""};return(0,o.jsxs)(l.Provider,{value:{showPopover:c},children:[e,s&&s.anchorElement&&(0,o.jsxs)(i.fC,{open:t,onOpenChange:n,children:[o.jsx(i.ee,{asChild:!0,children:o.jsx("div",{style:{position:"absolute",top:s.anchorElement.getBoundingClientRect().top,left:s.anchorElement.getBoundingClientRect().left,width:s.anchorElement.getBoundingClientRect().width,height:s.anchorElement.getBoundingClientRect().height,pointerEvents:"none"}})}),o.jsx(i.h_,{children:(0,o.jsxs)(i.VY,{className:`rounded-md shadow-lg p-4 text-sm ${m.bg} ${m.text}`,sideOffset:5,onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),children:[o.jsx("h3",{className:"font-medium",children:s.title}),s.description&&o.jsx("p",{children:s.description}),(s.onConfirm||s.onCancel)&&(0,o.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[s.onCancel&&o.jsx("button",{onClick:x,className:"px-3 py-1 rounded bg-gray-300 text-gray-800 hover:bg-gray-400",children:"キャンセル"}),s.onConfirm&&o.jsx("button",{onClick:h,className:"px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700",children:"OK"})]}),o.jsx(i.Eh,{className:"fill-current text-white"}),o.jsx("button",{className:"absolute top-1 right-1 p-1 rounded-full hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-opacity-50",onClick:d,children:"✕"})]})})]})]})}function a(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useClickableToastPopover must be used within a ClickableToastPopoverProvider");return e}},9269:(e,t,n)=>{"use strict";n.d(t,{V:()=>a,p:()=>u});var o=n(326),r=n(7577),i=n.n(r),l=n(1278);let s=(0,r.createContext)(void 0);function a({children:e}){let[t,n]=(0,r.useState)(!1),[a,u]=(0,r.useState)({title:"",description:"",variant:"info"}),d=i().useRef(null),c=(0,r.useCallback)(e=>{u(e),n(!0),d.current&&window.clearTimeout(d.current),d.current=window.setTimeout(()=>{n(!1)},3e3)},[]);return(0,o.jsxs)(l.zt,{swipeDirection:"right",children:[o.jsx(s.Provider,{value:{showToast:c},children:e}),(0,o.jsxs)(l.fC,{open:t,onOpenChange:n,className:`toast ${a.variant}`,children:[o.jsx(l.Dx,{children:a.title}),a.description&&o.jsx(l.dk,{children:a.description})]}),o.jsx(l.l_,{})]})}function u(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},8589:e=>{e.exports={mobileMenuContainer:"MobileMenu_mobileMenuContainer__uSiT5",hamburgerButton:"MobileMenu_hamburgerButton__t0tZB",mobileMenuOverlay:"MobileMenu_mobileMenuOverlay__lPL91",mobileMenuContent:"MobileMenu_mobileMenuContent__KsOL6",closeButton:"MobileMenu_closeButton__xbQ49",menuTitle:"MobileMenu_menuTitle__ZtVO2",mobileMenuActions:"MobileMenu_mobileMenuActions__ilaxF",searchForm:"MobileMenu_searchForm__06WKm",searchInput:"MobileMenu_searchInput__0k2s0",searchButton:"MobileMenu_searchButton__jiKEz",adminButton:"MobileMenu_adminButton__6zfn4",logoutButton:"MobileMenu_logoutButton___0zqN"}},2029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});let o=(0,n(8570).createProxy)(String.raw`C:\Users\kazuy\sns\src\app\layout.tsx#default`)},3824:()=>{}};