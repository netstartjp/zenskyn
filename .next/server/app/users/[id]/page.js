(()=>{var e={};e.id=676,e.ids=[676],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},411:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>_,tree:()=>c}),r(2927),r(2029),r(5866);var t=r(3191),a=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c=["",{children:["users",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2927)),"C:\\Users\\kazuy\\sns\\src\\app\\users\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Users\\kazuy\\sns\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\kazuy\\sns\\src\\app\\users\\[id]\\page.tsx"],u="/users/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},_=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/users/[id]/page",pathname:"/users/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1058:(e,s,r)=>{Promise.resolve().then(r.bind(r,5749))},5749:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(326),a=r(7577),i=r(5047),n=r(434),o=r(2175),l=r.n(o),c=r(7318);function d({params:e}){let s=(0,i.useRouter)(),r=e.id,[o,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[_,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),j=(0,a.useCallback)(async()=>{p(!0),m(null);let e=localStorage.getItem("token");if(e)try{let s=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=JSON.parse(window.atob(s));f(r.userId)}catch(e){console.error("トークンのデコードに失敗しました",e),f(null)}try{let e=await fetch(`/api/users/${r}`);if(e.ok){let s=await e.json();d(s)}else{let s=await e.json();m(s.error||"ユーザープロフィールの取得に失敗しました。")}}catch(e){m("予期せぬエラーが発生しました。"),console.error(e)}finally{p(!1)}},[r]);return u?t.jsx("div",{className:l().loadingMessage,children:"プロフィールを読み込み中..."}):_?t.jsx("div",{className:l().errorMessage,children:_}):o?(0,t.jsxs)("div",{className:l().container,children:[(0,t.jsxs)("header",{className:l().header,children:[t.jsx("h1",{className:l().title,children:"ユーザープロフィール"}),t.jsx(n.default,{href:"/",children:t.jsx("button",{className:l().backButton,children:"ホームに戻る"})})]}),(0,t.jsxs)("main",{className:l().mainContent,children:[(0,t.jsxs)("section",{className:l().profileCard,children:[(0,t.jsxs)("div",{className:l().profileHeader,children:[o.profileImageUrl&&t.jsx("img",{src:o.profileImageUrl,alt:"プロフィール画像",className:l().profileImage}),t.jsx("h2",{className:l().profileName,children:o.name||"名無しユーザー"}),o.customId&&(0,t.jsxs)("p",{className:l().profileCustomId,children:["@",o.customId]})," ",o.id===g&&t.jsx("button",{onClick:()=>s.push("/settings"),className:l().editButton,children:"プロフィールを編集"})]}),t.jsx("p",{className:l().profileBio,children:o.bio||"自己紹介がありません。"}),(0,t.jsxs)("p",{className:l().profileJoined,children:["参加日: ",new Date(o.createdAt).toLocaleDateString()]})]}),(0,t.jsxs)("section",{className:l().postsSection,children:[(0,t.jsxs)("h3",{className:l().sectionTitle,children:[o.name||"このユーザー","の投稿"]}),o.posts.length>0?t.jsx(c.T,{posts:o.posts,onPostDeleted:()=>{j()}}):t.jsx("p",{className:l().noPostsMessage,children:"まだ投稿がありません。"})]})]})]}):t.jsx("div",{className:l().errorMessage,children:"ユーザーが見つかりませんでした。"})}},2175:e=>{e.exports={container:"user_container__HUiag",header:"user_header__QSMzM",title:"user_title__V8bKx",backButton:"user_backButton__QiBru",mainContent:"user_mainContent__hZAFz",profileCard:"user_profileCard__m7_5Z",profileHeader:"user_profileHeader__Zx8hN",profileImage:"user_profileImage__K_tbS",profileName:"user_profileName__VWnEN",editButton:"user_editButton__K2Wy9",profileBio:"user_profileBio__QILzp",profileEmail:"user_profileEmail__b0vJj",profileJoined:"user_profileJoined__8IZ2M",postsSection:"user_postsSection___6aiX",sectionTitle:"user_sectionTitle__1G8Kd",noPostsMessage:"user_noPostsMessage__CtJ21",loadingMessage:"user_loadingMessage__YVw2L",errorMessage:"user_errorMessage__VXCrp"}},2927:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`C:\Users\kazuy\sns\src\app\users\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[276,928,484,318],()=>r(411));module.exports=t})();